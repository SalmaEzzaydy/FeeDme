{"ast":null,"code":"import Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer';\nimport axios from 'axios';\nexport default {\n  components: {\n    Navbar,\n    Footer\n  },\n  data() {\n    return {\n      // baseURL: \"https://limitless-lake-55070.herokuapp.com/\",\n      baseURL: 'http://localhost:8080/',\n      products: null,\n      categories: null,\n      cartCount: 0\n    };\n  },\n  methods: {\n    async fetchData() {\n      // api call to get all the categories\n      await axios.get(this.baseURL + 'category/').then(res => {\n        this.categories = res.data;\n      }).catch(err => console.log('err', err));\n\n      // api call to get the products\n\n      await axios.get(this.baseURL + 'product/').then(res => {\n        this.products = res.data;\n      }).catch(err => console.log('err', err));\n\n      // fetch cart item if token is present i.e logged in\n      if (this.token) {\n        axios.get(`${this.baseURL}cart/?token=${this.token}`).then(res => {\n          const result = res.data;\n          this.cartCount = result.cartItems.length;\n        }).catch(err => console.log('err', err));\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    }\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  }\n};","map":{"version":3,"mappings":"AAgBA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,MAAK,MAAO,qBAAqB;AACxC,OAAOC,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,UAAU,EAAE;IAAEH,MAAM;IAAEC;EAAO,CAAC;EAC9BG,IAAI,GAAG;IACL,OAAO;MACL;MACAC,OAAO,EAAE,wBAAwB;MACjCC,QAAQ,EAAE,IAAI;MACdC,UAAU,EAAE,IAAI;MAChBC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,SAAS,GAAG;MAChB;MACA,MAAMR,KAAI,CACPS,GAAG,CAAC,IAAI,CAACN,OAAM,GAAI,WAAW,EAC9BO,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACN,UAAS,GAAIM,GAAG,CAACT,IAAI;MAC5B,CAAC,EACAU,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC,CAAC;;MAE1C;;MAEA,MAAMb,KAAI,CACPS,GAAG,CAAC,IAAI,CAACN,OAAM,GAAI,UAAU,EAC7BO,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAACP,QAAO,GAAIO,GAAG,CAACT,IAAI;MAC1B,CAAC,EACAU,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC,CAAC;;MAE1C;MACA,IAAI,IAAI,CAACG,KAAK,EAAE;QACdhB,KAAI,CACDS,GAAG,CAAE,GAAE,IAAI,CAACN,OAAQ,eAAc,IAAI,CAACa,KAAM,EAAC,EAC9CN,IAAI,CAAEC,GAAG,IAAK;UACb,MAAMM,MAAK,GAAIN,GAAG,CAACT,IAAI;UACvB,IAAI,CAACI,SAAQ,GAAIW,MAAM,CAACC,SAAS,CAACC,MAAM;QAC1C,CAAC,EACAP,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC,CAAC;MAC5C;IACF,CAAC;IACDO,cAAc,GAAG;MACf,IAAI,CAACd,SAAQ,GAAI,CAAC;IACpB;EACF,CAAC;EACDe,OAAO,GAAG;IACR,IAAI,CAACL,KAAI,GAAIM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC1C,IAAI,CAACf,SAAS,EAAE;EAClB;AACF,CAAC","names":["Navbar","Footer","axios","components","data","baseURL","products","categories","cartCount","methods","fetchData","get","then","res","catch","err","console","log","token","result","cartItems","length","resetCartCount","mounted","localStorage","getItem"],"sourceRoot":"","sources":["C:\\Users\\lenovo\\Desktop\\vue\\ecommerce-ui\\src\\App.vue"],"sourcesContent":["<template>\n  <Navbar :cartCount=\"cartCount\" @resetCartCount=\"resetCartCount\" />\n  <router-view\n    v-if=\"categories && products\"\n    style=\"min-height: 60vh\"\n    :baseURL=\"baseURL\"\n    :categories=\"categories\"\n    :products=\"products\"\n    @fetchData=\"fetchData\"\n  >\n  </router-view>\n  <!--  footer-->\n  <Footer />\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer';\nimport axios from 'axios';\nexport default {\n  components: { Navbar, Footer },\n  data() {\n    return {\n      // baseURL: \"https://limitless-lake-55070.herokuapp.com/\",\n      baseURL: 'http://localhost:8080/',\n      products: null,\n      categories: null,\n      cartCount: 0,\n    };\n  },\n  methods: {\n    async fetchData() {\n      // api call to get all the categories\n      await axios\n        .get(this.baseURL + 'category/')\n        .then((res) => {\n          this.categories = res.data;\n        })\n        .catch((err) => console.log('err', err));\n\n      // api call to get the products\n\n      await axios\n        .get(this.baseURL + 'product/')\n        .then((res) => {\n          this.products = res.data;\n        })\n        .catch((err) => console.log('err', err));\n\n      // fetch cart item if token is present i.e logged in\n      if (this.token) {\n        axios\n          .get(`${this.baseURL}cart/?token=${this.token}`)\n          .then((res) => {\n            const result = res.data;\n            this.cartCount = result.cartItems.length;\n          })\n          .catch((err) => console.log('err', err));\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}