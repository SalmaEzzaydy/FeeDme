{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      cartItems: [],\n      token: null,\n      totalCost: 0\n    };\n  },\n  props: ['baseURL'],\n  methods: {\n    // fetch All items in cart\n    listCartItems() {\n      axios.get(`${this.baseURL}cart/?token=${this.token}`).then(res => {\n        const result = res.data;\n        this.cartItems = result.cartItems;\n        this.totalCost = result.totalCost;\n      }).catch(err => console.log('err', err));\n    },\n    deleteItem(itemId) {\n      axios.delete(`${this.baseURL}cart/delete/${itemId}/?token=${this.token}`).then(res => {\n        if (res.status == 200) {\n          this.$router.go(0);\n        }\n      }).catch(err => console.log('err', err));\n    },\n    checkout() {\n      this.$router.push({\n        name: 'Checkout'\n      });\n    }\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.listCartItems();\n  }\n};","map":{"version":3,"mappings":";AAsEA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,IAAI;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,KAAK,EAAE,CAAC,SAAS,CAAC;EAClBC,OAAO,EAAE;IACP;IACAC,aAAa,GAAG;MACdP,KAAI,CACDQ,GAAG,CAAE,GAAE,IAAI,CAACC,OAAQ,eAAc,IAAI,CAACN,KAAM,EAAC,EAC9CO,IAAI,CAAEC,GAAG,IAAK;QACb,MAAMC,MAAK,GAAID,GAAG,CAACV,IAAI;QACvB,IAAI,CAACC,SAAQ,GAAIU,MAAM,CAACV,SAAS;QACjC,IAAI,CAACE,SAAQ,GAAIQ,MAAM,CAACR,SAAS;MACnC,CAAC,EACAS,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC,CAAC;IAC5C,CAAC;IACDG,UAAU,CAACC,MAAM,EAAE;MACjBlB,KAAI,CACDmB,MAAM,CAAE,GAAE,IAAI,CAACV,OAAQ,eAAcS,MAAO,WAAU,IAAI,CAACf,KAAM,EAAC,EAClEO,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACS,MAAK,IAAK,GAAG,EAAE;UACrB,IAAI,CAACC,OAAO,CAACC,EAAE,CAAC,CAAC,CAAC;QACpB;MACF,CAAC,EACAT,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC,CAAC;IAC5C,CAAC;IAEDS,QAAQ,GAAG;MACT,IAAI,CAACF,OAAO,CAACG,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAW,CAAC,CAAC;IACzC;EACF,CAAC;EACDC,OAAO,GAAG;IACR,IAAI,CAACvB,KAAI,GAAIwB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC1C,IAAI,CAACrB,aAAa,EAAE;EACtB;AACF,CAAC","names":["axios","data","cartItems","token","totalCost","props","methods","listCartItems","get","baseURL","then","res","result","catch","err","console","log","deleteItem","itemId","delete","status","$router","go","checkout","push","name","mounted","localStorage","getItem"],"sourceRoot":"","sources":["C:\\Users\\lenovo\\Desktop\\vue\\ecommerce-ui\\src\\views\\Cart.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12 text-center\">\n        <h3 class=\"pt-3\">\n          Shopping cart\n        </h3>\n      </div>\n    </div>\n\n    <!-- loop over the cart items and display -->\n\n    <div\n      v-for=\"cartItem in cartItems\"\n      :key=\"cartItem.id\"\n      class=\"row mt-2 pt-3 justify-content-around\"\n    >\n      <div class=\"col-2\"></div>\n      <div class=\"col-md-3 embed-responsive embed-responsive-16by9\">\n        <img\n          :src=\"cartItem.product.imageURL\"\n          alt=\"\"\n          class=\"w-100 card-image-top embed-responsive-item\"\n          style=\"object-fit: cover\"\n        />\n      </div>\n\n      <!-- display product name, quantity -->\n      <div class=\"col-md-5 px-3\">\n        <div class=\"card-block px-3\">\n          <h6 class=\"card-title\">\n            <router-link\n              :to=\"{ name: 'ShowDetails', params: { id: cartItem.product.id } }\"\n            >\n              {{ cartItem.product.name }}\n            </router-link>\n          </h6>\n\n          <p class=\"mb-0 font-weight-bold\" id=\"item-price\">\n            $ {{ cartItem.product.price }} per unit\n          </p>\n          <p class=\"mb-0\" style=\"float:left\">\n            Quantity:{{ cartItem.quantity }}\n          </p>\n        </div>\n        <p class=\"mb-0\" style=\"float:right\">\n          Total:\n          <span class=\"font-weight-bold\">\n            $ {{ cartItem.product.price * cartItem.quantity }}\n          </span>\n        </p>\n        <br />\n        <a href=\"#\" class=\"text-right\" @click=\"deleteItem(cartItem.id)\"\n          >Remove from cart\n        </a>\n      </div>\n      <div class=\"col-2\"></div>\n      <div class=\"col-12\"><hr /></div>\n    </div>\n\n    <!-- display the price -->\n    <div class=\"total-cost pt-2 text-right\">\n      <h5>Total : ${{ totalCost.toFixed(2) }}</h5>\n      <button type=\"button\" class=\"btn btn-primary confirm\" @click=\"checkout\">\n        Confirm order\n      </button>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      cartItems: [],\n      token: null,\n      totalCost: 0,\n    };\n  },\n  props: ['baseURL'],\n  methods: {\n    // fetch All items in cart\n    listCartItems() {\n      axios\n        .get(`${this.baseURL}cart/?token=${this.token}`)\n        .then((res) => {\n          const result = res.data;\n          this.cartItems = result.cartItems;\n          this.totalCost = result.totalCost;\n        })\n        .catch((err) => console.log('err', err));\n    },\n    deleteItem(itemId) {\n      axios\n        .delete(`${this.baseURL}cart/delete/${itemId}/?token=${this.token}`)\n        .then((res) => {\n          if (res.status == 200) {\n            this.$router.go(0);\n          }\n        })\n        .catch((err) => console.log('err', err));\n    },\n\n    checkout() {\n      this.$router.push({ name: 'Checkout' });\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.listCartItems();\n  },\n};\n</script>\n<style scoped>\nh4,\nh5 {\n  color: #484848;\n  font-size: 700;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}