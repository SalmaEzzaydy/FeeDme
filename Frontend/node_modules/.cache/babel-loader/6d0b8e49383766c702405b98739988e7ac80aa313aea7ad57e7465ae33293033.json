{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Navbar = _resolveComponent(\"Navbar\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Navbar, {\n    cartCount: $data.cartCount,\n    onResetCartCount: $options.resetCartCount\n  }, null, 8 /* PROPS */, [\"cartCount\", \"onResetCartCount\"]), $data.categories && $data.products ? (_openBlock(), _createBlock(_component_router_view, {\n    key: 0,\n    style: {\n      \"min-height\": \"60vh\"\n    },\n    baseURL: $data.baseURL,\n    categories: $data.categories,\n    products: $data.products,\n    onFetchData: $options.fetchData\n  }, null, 8 /* PROPS */, [\"baseURL\", \"categories\", \"products\", \"onFetchData\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"  footer\"), _createVNode(_component_Footer)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;;;;6DACEA,aAAkEC;IAAzDC,SAAS,EAAEC,eAAS;IAAGC,gBAAc,EAAEC;8DAExCF,gBAAU,IAAIA,cAAQ,kBAD9BG,aAQcC;;IANZC,KAAwB,EAAxB;MAAA;IAAA,CAAwB;IACvBC,OAAO,EAAEN,aAAO;IAChBO,UAAU,EAAEP,gBAAU;IACtBQ,QAAQ,EAAER,cAAQ;IAClBS,WAAS,EAAEP;sHAGdQ,+BAAe,EACfb,aAAUc","names":["_createVNode","_component_Navbar","cartCount","$data","onResetCartCount","$options","_createBlock","_component_router_view","style","baseURL","categories","products","onFetchData","_createCommentVNode","_component_Footer"],"sourceRoot":"","sources":["C:\\Users\\lenovo\\Desktop\\vue\\ecommerce-ui\\src\\App.vue"],"sourcesContent":["<template>\n  <Navbar :cartCount=\"cartCount\" @resetCartCount=\"resetCartCount\" />\n  <router-view\n    v-if=\"categories && products\"\n    style=\"min-height: 60vh\"\n    :baseURL=\"baseURL\"\n    :categories=\"categories\"\n    :products=\"products\"\n    @fetchData=\"fetchData\"\n  >\n  </router-view>\n  <!--  footer-->\n  <Footer />\n</template>\n\n<script>\nimport Navbar from \"./components/Navbar.vue\";\nimport Footer from \"./components/Footer\";\nimport axios from \"axios\";\nexport default {\n  components: { Navbar, Footer },\n  data() {\n    return {\n      //baseURL: \"https://limitless-lake-55070.herokuapp.com/\",\n      baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      cartCount: 0,\n    };\n  },\n  methods: {\n    async fetchData() {\n      // api call to get all the categories\n      await axios\n        .get(this.baseURL + \"category/\")\n        .then((res) => {\n          this.categories = res.data;\n        })\n        .catch((err) => console.log(\"err\", err));\n\n      // api call to get the products\n\n      await axios\n        .get(this.baseURL + \"product/\")\n        .then((res) => {\n          this.products = res.data;\n        })\n        .catch((err) => console.log(\"err\", err));\n\n      // fetch cart item if token is present i.e logged in\n      if (this.token) {\n        axios\n          .get(`${this.baseURL}cart/?token=${this.token}`)\n          .then((res) => {\n            const result = res.data;\n            this.cartCount = result.cartItems.length;\n          })\n          .catch((err) => console.log(\"err\", err));\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem(\"token\");\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}