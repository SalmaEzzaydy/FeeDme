{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      selectedFile: null\n    };\n  },\n  props: [\"baseURL\"],\n  methods: {\n    onFileSelected(event) {\n      //this will always update the selected file whenever user changes files\n      this.selectedFile = event.target.files[0];\n    },\n    async onUpload() {\n      if (!this.selectedFile) {\n        swal({\n          text: \"Select a file first\",\n          icon: \"warning\",\n          closeOnClickOutside: false\n        });\n        return;\n      }\n      if (this.selectedFile.type !== \"image/jpeg\" && this.selectedFile.type !== \"image/png\" && this.selectedFile.type !== \"image/jpg\") {\n        //file format is not correct\n        swal({\n          text: \"Select a image/jpeg file!\",\n          icon: \"error\",\n          closeOnClickOutside: false\n        });\n        return;\n      }\n      const formData = new FormData();\n      formData.append('file', this.selectedFile);\n      await axios({\n        method: 'post',\n        url: this.baseURL + \"fileUpload/\",\n        data: formData\n      }).then(res => {\n        this.$router.push({\n          name: \"Gallery\"\n        });\n        swal({\n          text: \"Image Added Successfully!\",\n          icon: \"success\",\n          closeOnClickOutside: false\n        });\n      }).catch(err => console.log(err));\n    }\n  },\n  mounted() {\n    if (!localStorage.getItem('token')) {\n      this.$router.push({\n        name: 'Signin'\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAuBA,eAAe;EACXA,IAAI,GAAE;IACF,OAAO;MACHC,YAAW,EAAI;IACnB;EACJ,CAAC;EACDC,KAAI,EAAI,CAAC,SAAS,CAAC;EACnBC,OAAM,EAAI;IACNC,cAAc,CAACC,KAAK,EAAC;MACjB;MACA,IAAI,CAACJ,YAAW,GAAII,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC7C,CAAC;IACD,MAAMC,QAAQ,GAAE;MACZ,IAAG,CAAC,IAAI,CAACP,YAAY,EAAE;QACnBQ,IAAI,CAAC;UACDC,IAAI,EAAE,qBAAqB;UAC3BC,IAAI,EAAE,SAAS;UACfC,mBAAmB,EAAE;QACzB,CAAC,CAAC;QACF;MACJ;MACA,IAAG,IAAI,CAACX,YAAY,CAACY,IAAG,KAAM,YAAW,IAAK,IAAI,CAACZ,YAAY,CAACY,IAAG,KAAM,WAAU,IAChF,IAAI,CAACZ,YAAY,CAACY,IAAG,KAAM,WAAW,EAAE;QACvC;QACAJ,IAAI,CAAC;UACDC,IAAI,EAAE,2BAA2B;UACjCC,IAAI,EAAE,OAAO;UACbC,mBAAmB,EAAE;QACzB,CAAC,CAAC;QACF;MACJ;MACA,MAAME,QAAO,GAAI,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACf,YAAY,CAAC;MAE1C,MAAMgB,KAAK,CAAC;QACRC,MAAM,EAAE,MAAM;QACdC,GAAG,EAAE,IAAI,CAACC,OAAM,GAAI,aAAa;QACjCpB,IAAG,EAAIc;MACX,CAAC,EACAO,IAAI,CAACC,GAAE,IAAK;QACT,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAACC,IAAG,EAAI;QAAS,CAAC,CAAC;QACrChB,IAAI,CAAC;UACDC,IAAI,EAAE,2BAA2B;UACjCC,IAAI,EAAE,SAAS;UACfC,mBAAmB,EAAE;QACzB,CAAC,CAAC;MACN,CAAC,EACAc,KAAK,CAACC,GAAE,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClC;EACJ,CAAC;EACDG,OAAO,GAAG;IACN,IAAI,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MAChC,IAAI,CAACT,OAAO,CAACC,IAAI,CAAC;QAACC,IAAG,EAAI;MAAQ,CAAC,CAAC;IACxC;EACJ;AACJ","names":["data","selectedFile","props","methods","onFileSelected","event","target","files","onUpload","swal","text","icon","closeOnClickOutside","type","formData","FormData","append","axios","method","url","baseURL","then","res","$router","push","name","catch","err","console","log","mounted","localStorage","getItem"],"sourceRoot":"","sources":["C:\\Users\\lenovo\\Desktop\\vue\\ecommerce-ui\\src\\views\\Admin\\AddImage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-12 text-center\">\n        <h4 class=\"pt-3\">Add a new Image</h4>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-3\"></div>\n      <div class=\"col-md-6 px-5 px-md-0 pt-5\">\n        <div class=\"form-group\">\n          <label for=\"myfile\">Select image :</label>\n          <input type=\"file\" id=\"myfile\" class=\"form-control-file\" @change=\"onFileSelected\">\n        </div>\n        <button type=\"button\" class=\"btn btn-info\" @click=\"onUpload\">Upload</button>\n      </div>\n      <div class=\"col-3\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    data(){\n        return {\n            selectedFile : null\n        }\n    },\n    props : [\"baseURL\"],\n    methods : {\n        onFileSelected(event){\n            //this will always update the selected file whenever user changes files\n            this.selectedFile = event.target.files[0];\n        },\n        async onUpload(){\n            if(!this.selectedFile) {\n                swal({\n                    text: \"Select a file first\",\n                    icon: \"warning\",\n                    closeOnClickOutside: false,\n                });\n                return;\n            }\n            if(this.selectedFile.type !== \"image/jpeg\" && this.selectedFile.type !== \"image/png\" &&\n               this.selectedFile.type !== \"image/jpg\") {\n                //file format is not correct\n                swal({\n                    text: \"Select a image/jpeg file!\",\n                    icon: \"error\",\n                    closeOnClickOutside: false,\n                });\n                return;\n            }\n            const formData = new FormData();\n            formData.append('file', this.selectedFile);\n\n            await axios({\n                method: 'post',\n                url: this.baseURL + \"fileUpload/\",\n                data : formData,\n            })\n            .then(res => {\n                this.$router.push({name : \"Gallery\"});\n                swal({\n                    text: \"Image Added Successfully!\",\n                    icon: \"success\",\n                    closeOnClickOutside: false,\n                });\n            })\n            .catch(err => console.log(err))\n        }\n    },\n    mounted() {\n        if (!localStorage.getItem('token')) {\n            this.$router.push({name : 'Signin'});\n        }\n    }\n}\n</script>\n\n<style scoped>\nh4 {\n  font-family: 'Roboto', sans-serif;\n  color: #484848;\n  font-weight: 700;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}