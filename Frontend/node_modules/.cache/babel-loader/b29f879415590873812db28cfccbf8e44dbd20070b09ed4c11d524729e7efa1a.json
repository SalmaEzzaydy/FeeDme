{"ast":null,"code":"import Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer.vue';\nexport default {\n  data() {\n    return {\n      //baseURL: 'https://limitless-lake-55070.herokuapp.com/',\n      baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      key: 0,\n      token: null,\n      cartCount: 0\n    };\n  },\n  components: {\n    Footer,\n    Navbar\n  },\n  methods: {\n    async fetchData() {\n      // fetch products\n      await axios.get(this.baseURL + 'product/').then(res => this.products = res.data).catch(err => console.log(err));\n\n      //fetch categories\n      await axios.get(this.baseURL + 'category/').then(res => this.categories = res.data).catch(err => console.log(err));\n\n      //fetch cart items\n      if (this.token) {\n        await axios.get(`${this.baseURL}cart/?token=${this.token}`).then(response => {\n          if (response.status == 200) {\n            // update cart\n            this.cartCount = Object.keys(response.data.cartItems).length;\n          }\n        }, error => {\n          console.log(error);\n        });\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    }\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  }\n};","map":{"version":3,"mappings":"AAoBA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C,OAAOC,MAAK,MAAO,yBAAyB;AAC5C,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACL;MACAC,OAAO,EAAE,wBAAwB;MACjCC,QAAQ,EAAE,IAAI;MACdC,UAAU,EAAE,IAAI;MAChBC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,IAAI;MACXC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EAEDC,UAAU,EAAE;IAAER,MAAM;IAAED;EAAO,CAAC;EAC9BU,OAAO,EAAE;IACP,MAAMC,SAAS,GAAG;MAChB;MACA,MAAMC,KAAI,CACPC,GAAG,CAAC,IAAI,CAACV,OAAM,GAAI,UAAU,EAC7BW,IAAI,CAAEC,GAAG,IAAM,IAAI,CAACX,QAAO,GAAIW,GAAG,CAACb,IAAK,EACxCc,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;;MAEnC;MACA,MAAML,KAAI,CACPC,GAAG,CAAC,IAAI,CAACV,OAAM,GAAI,WAAW,EAC9BW,IAAI,CAAEC,GAAG,IAAM,IAAI,CAACV,UAAS,GAAIU,GAAG,CAACb,IAAK,EAC1Cc,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;;MAEnC;MACA,IAAI,IAAI,CAACV,KAAK,EAAE;QACd,MAAMK,KAAK,CAACC,GAAG,CAAE,GAAE,IAAI,CAACV,OAAQ,eAAc,IAAI,CAACI,KAAM,EAAC,CAAC,CAACO,IAAI,CAC7DM,QAAQ,IAAK;UACZ,IAAIA,QAAQ,CAACC,MAAK,IAAK,GAAG,EAAE;YAC1B;YACA,IAAI,CAACb,SAAQ,GAAIc,MAAM,CAACC,IAAI,CAACH,QAAQ,CAAClB,IAAI,CAACsB,SAAS,CAAC,CAACC,MAAM;UAC9D;QACF,CAAC,EACAC,KAAK,IAAK;UACTR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;QACpB,EACD;MACH;IACF,CAAC;IACDC,cAAc,GAAG;MACf,IAAI,CAACnB,SAAQ,GAAI,CAAC;IACpB;EACF,CAAC;EACDoB,OAAO,GAAG;IACR,IAAI,CAACrB,KAAI,GAAIsB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC1C,IAAI,CAACnB,SAAS,EAAE;EAClB;AACF,CAAC","names":["Navbar","Footer","data","baseURL","products","categories","key","token","cartCount","components","methods","fetchData","axios","get","then","res","catch","err","console","log","response","status","Object","keys","cartItems","length","error","resetCartCount","mounted","localStorage","getItem"],"sourceRoot":"","sources":["C:\\Users\\lenovo\\Desktop\\vue\\ecommerce-ui\\src\\App.vue"],"sourcesContent":["<template>\n  <Navbar\n    :cartCount=\"cartCount\"\n    @resetCartCount=\"resetCartCount\"\n    v-if=\"!['Signup', 'Signin'].includes($route.name)\"\n  />\n  <div style=\"min-height: 60vh\">\n    <router-view\n      v-if=\"products && categories\"\n      :baseURL=\"baseURL\"\n      :products=\"products\"\n      :categories=\"categories\"\n      @fetchData=\"fetchData\"\n    >\n    </router-view>\n  </div>\n  <Footer v-if=\"!['Signup', 'Signin'].includes($route.name)\" />\n</template>\n\n<script>\nimport Navbar from './components/Navbar.vue';\nimport Footer from './components/Footer.vue';\nexport default {\n  data() {\n    return {\n      //baseURL: 'https://limitless-lake-55070.herokuapp.com/',\n      baseURL: \"http://localhost:8080/\",\n      products: null,\n      categories: null,\n      key: 0,\n      token: null,\n      cartCount: 0,\n    };\n  },\n\n  components: { Footer, Navbar },\n  methods: {\n    async fetchData() {\n      // fetch products\n      await axios\n        .get(this.baseURL + 'product/')\n        .then((res) => (this.products = res.data))\n        .catch((err) => console.log(err));\n\n      //fetch categories\n      await axios\n        .get(this.baseURL + 'category/')\n        .then((res) => (this.categories = res.data))\n        .catch((err) => console.log(err));\n\n      //fetch cart items\n      if (this.token) {\n        await axios.get(`${this.baseURL}cart/?token=${this.token}`).then(\n          (response) => {\n            if (response.status == 200) {\n              // update cart\n              this.cartCount = Object.keys(response.data.cartItems).length;\n            }\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      }\n    },\n    resetCartCount() {\n      this.cartCount = 0;\n    },\n  },\n  mounted() {\n    this.token = localStorage.getItem('token');\n    this.fetchData();\n  },\n};\n</script>\n\n<style>\nhtml {\n  overflow-y: scroll;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}